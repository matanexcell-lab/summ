<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8"/>
<title>×¡×™×›×•× ×©×™×—×”</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
/* × ×©××¨ ×‘×“×™×•×§ ×›××• ××¦×œ×š */
*{box-sizing:border-box;font-family:system-ui}
body{margin:0;background:#f3f4f6;display:flex;justify-content:center}
.app-wrapper{width:100%;max-width:520px;padding:24px}
.card{background:#fff;border-radius:18px;box-shadow:0 8px 30px rgba(0,0,0,.12);padding:20px}
.btn{border:none;border-radius:999px;padding:11px 0;font-weight:700;cursor:pointer}
.btn-primary{background:#2563eb;color:#fff}
.btn-secondary{background:#e5e7eb}
.hidden{display:none!important}
</style>
</head>

<body>
<div class="app-wrapper">
<div class="card">

<h1>×¡×™×›×•× ×©×™×—×”</h1>

<div id="formContainer"></div>

<button id="nextBtn" class="btn btn-primary">×”××©×š</button>

</div>
</div>

<script>

// ===================================================
// ğŸ”¥ ×©×“×¨×•×’ ×—×“×© â€” ××¡×œ×•×œ×™ ×”×©×§×¢×” ×“×™× ××™×™×
// ===================================================

const BASE_TRACKS=[
"×›×œ×œ×™",
"×œ×‘× ×™ 50 ×•××˜×”",
"×œ×‘× ×™ 50-60",
"×œ×‘× ×™ 60 ×•××¢×œ×”",
"×× ×™×•×ª",
"Snp500",
"××©×•×œ×‘ ×¡×—×™×¨",
"×¢×•×§×‘ ××“×“×™× ×’××™×©",
"×× ×™×•×ª ×¡×—×™×¨",
"×¢×•×§×‘ ××“×“×™ ×× ×™×•×ª",
"×”×©×œ×•×© ×”×§×“×•×©",
"×—×¦×™ ×—×¦×™ ×× ×œ×™×¡×˜"
];

function loadCustomTracks(){
 try{
   return JSON.parse(localStorage.getItem("customTracks")||"[]");
 }catch(e){return []}
}

function saveCustomTracks(arr){
 localStorage.setItem("customTracks",JSON.stringify(arr));
}

function getAllTracks(){
 return [...BASE_TRACKS,...loadCustomTracks()];
}

// ===================================================
// ×¤×•× ×§×¦×™×•×ª ×©×œ×š â€” ×œ× ×©×™× ×™×ª×™
// ===================================================

function createSelect(id,options){
 return `<select id="${id}">
 ${options.map(o=>`<option>${o}</option>`).join("")}
 <option value="××—×¨">××—×¨...</option>
 </select>`;
}

// ===================================================
// Render (×“×•×’××” ×œ×—×œ×§ ××¡×œ×•×œ ×”×©×§×¢×” ×‘×œ×‘×“)
// ===================================================

function renderTrackOpen(){

let html=`
<div>××¡×œ×•×œ ×”×©×§×¢×”</div>

${createSelect("openTrackSelect",getAllTracks())}

<button id="addTrackBtn" class="btn btn-secondary">
â• ×”×•×¡×£ ××¡×œ×•×œ ×”×©×§×¢×” ×—×“×©
</button>
`;

document.getElementById("formContainer").innerHTML=html;


// ======================
// ×›×¤×ª×•×¨ ×”×•×¡×¤×ª ××¡×œ×•×œ
// ======================

document.getElementById("addTrackBtn").onclick=()=>{

const name=prompt("×©× ××¡×œ×•×œ ×”×©×§×¢×” ×—×“×©:");

if(!name)return;

const list=loadCustomTracks();

list.push(name);

saveCustomTracks(list);

renderTrackOpen();

};

}

// start
renderTrackOpen();

</script>
</body>
</html>